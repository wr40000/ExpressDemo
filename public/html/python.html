<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://139.159.253.241:3000/stylesheets/github.css">
    <title>Document</title>
</head>
<body>
    <h1>JSON</h1>
<p>json的具体介绍和使用规范：<a href="https://www.json.org/json-en.html">https://www.json.org/json-en.html</a></p>
<p>本文将关于python读取json做一个小小的记录和总结。</p>
<h2>读取json</h2>
<p>一般情况下的json文件，存储的是python中的一个dict。</p>
<p>如在&quot;dabao.json&quot;中有以下内容：</p>
<pre><code>{
    &quot;name&quot;: &quot;dabao&quot;,
    &quot;id&quot;:123,
    &quot;hobby&quot;: {
        &quot;sport&quot;: &quot;basketball&quot;,
        &quot;book&quot;: &quot;python study&quot;
    }
}
</code></pre>
<p>需要读取&quot;dabao.json&quot;的话，python脚本可以这么写：read_json.py</p>
<pre><code>import json
f = open(&#39;dabao.json&#39;, &#39;r&#39;)
content = f.read()
a = json.loads(content)
print(type(a))
print(a)
f.close()
</code></pre>
<p>注意，需要先用open来读取文件，再用json.loads()将读取内容转化为python字典。</p>
<h2>python将字典保存成json</h2>
<p>直接给代码：</p>
<pre><code>import json
a = {
    &quot;name&quot;: &quot;dabao&quot;,
    &quot;id&quot;:123,
    &quot;hobby&quot;: {
        &quot;sport&quot;: &quot;basketball&quot;,
        &quot;book&quot;: &quot;python study&quot;
    }
}
b = json.dumps(a)
f2 = open(&#39;new_json.json&#39;, &#39;w&#39;)
f2.write(b)
f2.close()
</code></pre>
<p>首先通过json.dumps()把dict降级为字符串。再将字符串写入json文件中。就是这么简单。</p>
<pre><code>&quot;C:\Users\admin\mysql-8.0.32-winx64\bin\mysqld.exe&quot;  --initialize-insecure
</code></pre>
<p><strong>Json无法序列化</strong></p>
<pre><code>class NpEncoder(json.JSONEncoder):
    def default(self, obj):
        if isinstance(obj, np.integer):
            return int(obj)
        elif isinstance(obj, np.floating):
            return float(obj)
        elif isinstance(obj, np.ndarray):
            return obj.tolist()
        else:
            return super(NpEncoder, self).default(obj)


将上述代码添加到你的代码中，然后改成json.dumps(data, cls=NpEncoder)
</code></pre>
<p><img src="python.assets/image-20230424164345889.png" alt="image-20230424164345889"></p>
<h1>常见语句</h1>
<h2>Class</h2>
<p><img src="https://pic2.zhimg.com/v2-21b16776e5a46e666a6af75a973c4ae5_b.webp?consumer=ZHI_MENG" alt="img"></p>
<h1>List</h1>
<p><img src="python.assets/image-20230424183529348.png" alt="image-20230424183529348"></p>

</body>
</html>